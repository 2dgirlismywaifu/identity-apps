/*!
 * Copyright (c) 2019, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.
 *
 * WSO2 Inc. licenses this file to you under the Apache License,
 * Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied. See the License for the
 * specific language governing permissions and limitations
 * under the License.
 *
 */

@type    : "view";
@element : "admin-portal";

@import (multiple) '../../wso2.config';

/*****************************************
            Sign on methods
*****************************************/

.sign-on-methods-tab-content {
    .authentication-flow-section {
        .authenticators-section {
            .authenticators {
                display: flex;
            }
        }

        .main-content {
            transition: width ease-in-out 0.5s;
        }

        .authenticators-panel {
            display: inline-block;

            .drag-handle {
                cursor: grab;

                &:active, &:focus {
                    cursor: grabbing;
                }
            }

            .authenticators-section {
                .ui.accordion {
                    .title {
                        font-size: 0.9em;

                        .caret-icon {
                            transition: transform .1s ease-in-out;
                        }
                        &.active {
                            .caret-icon {
                                transform: rotate(90deg);
                            }
                        }
                    }
                }
            }
        }

        .authentication-steps-section {
            .authentication-step-container {
                .step-header {
                    display: inline-block;
                }
                .delete-button {
                    display: inline-block;
                    float: right;
                    color: @nobel;

                    &:hover {
                        color: @black;
                        cursor: pointer;
                    }
                }
                .authentication-step {
                    min-height: 120px;
                    background-color: @whiteSmoke;
                    padding: 15px;
                    border-radius: @defaultBorderRadius;
                }

                .checkboxes {
                    margin: 15px 0;

                    .checkbox {
                        &:not(:last-child) {
                            margin-right: 20px;
                        }
                    }
                }
            }

            .add-step-button {
                padding-left: 0;
            }
        }
        &.flex {
            display: flex;

            .main-content {
                padding-right: 2em;
            }
        }
    }
}

// VARIABLES
@treeview-tree-stem-color: #f3f3f3;

.treeview * {
  box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
.treeview {
  font-size: 100%;

  > div {
    > .treeview-no-children-transition {
      transition-property: all;
    }

    > .treeview-no-children-transition-enter {
      opacity: 0;
      height: 0;
      overflow: hidden;

      &.treeview-no-children-transition-enter-active {
        opacity: 1;
        height: 0;
      }
    }

    > .treeview-no-children {
      overflow: hidden;
      > .treeview-no-children-content {
        margin: 2px 0;
      }
    }

    > .treeview-node {
      overflow: hidden;
      padding: 2px 5px;

      > .treeview-children-container {
        margin-left: 8px;
        padding-left: 20px;
        border-left: 1px solid @treeview-tree-stem-color;

        > .treeview-loading {
          padding: 0 3px;
          margin: 2px 0;
        }
      }

      > .treeview-node-content {
        padding: 0 3px;
        margin: 2px 0;

        > label {
          vertical-align: top;
          text-overflow: ellipsis;
          width: calc(100% - 55px);
          overflow: hidden;
          white-space: nowrap;
          display: inline-block;
          margin: 0;
          font-weight: normal;
          font-size: 100%;
        }

        > input[type=checkbox] {
          float: left;
          margin: 4px 5px 0 0;
          line-height: normal;
        }

        > .delete-btn {
          float: right;
          cursor: pointer;
        }
      }
    }

    > .treeview-node-transition {
      transition-property: all;
    }

    > .treeview-node-transition-enter {
      opacity: 0;

      &.treeview-node-transition-enter-active {
        opacity: 1;
      }
    }

    > .treeview-node-transition-exit {
      opacity: 1;

      &.treeview-node-transition-exit-active {
        opacity: 0;
        background-color: red;
      }
    }
  }
}

.empty-placeholder-center {
  position: relative;
  top: 50%;
  -webkit-transform: translateY(-50%);
  -ms-transform: translateY(-50%);
  transform: translateY(-50%);
}

.claim-scrolling-list {
  overflow-y: auto;
  height: 250px;
  overflow-x: hidden;
  padding: 10px;
  &.selected {
    background-color: #f4f7f9;
    height: 304px;
  }
}

#claim-scroll::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 2px;
  height: 1px;
}

.wrap {
	cursor: pointer;
	float: left;
	margin-left: -3px;
	margin-right: 5px;
}

.tree-arrow {
	cursor: pointer;
	display: inline-block;
	height: 18px;
	position: relative;
	top: 4px;
  width: 18px;
  
	span {
		-webkit-transition: all 0.2s ease;
		background-color: #bfbfbf;
		display: inline-block;
		height: 0.1rem;
		position: absolute;
		top: 0.5rem;
		transition: all 0.2s ease;
    width: 0.75rem;
    
		&:first-of-type {
			-webkit-transform: rotate(45deg);
			left: 0;
			transform: rotate(45deg);
    }
    
		&:last-of-type {
			-webkit-transform: rotate(-45deg);
			right: 0;
			transform: rotate(-45deg);
		}
	}
}

.tree-arrow.active {
	span {

		&:first-of-type {
			-webkit-transform: rotate(-45deg);
			transform: rotate(-45deg);
    }
    
		&:last-of-type {
			-webkit-transform: rotate(45deg);
			transform: rotate(45deg);
		}
	}
}

.no-child {
	padding-left: 23px !important;
}

@checkboxfill: #20c2e0; 

.tree-label {
	cursor: pointer;
	margin-bottom: 0;
  user-select: none;
  
	input {

		&:checked+.checkbox {
      border-color: @checkboxfill;
      
			svg {
				path {
					fill: @checkboxfill;
				}
				polyline {
					stroke-dashoffset: 0;
				}
			}
		}
  }
  
	&:hover {
		.checkbox {
			svg {
				path {
					stroke-dashoffset: 0;
				}
			}
		}
  }
  
	.checkbox {
		border-radius: 3px;
		border: 2px solid #C8CCD4;
		float: left;
		height: 17px;
		margin-right: 5px;
		position: relative;
		top: 2px;
    width: 17px;
    
		svg {
			left: -2px;
			position: absolute;
      top: -2px;
      
			path {
				fill: none;
				stroke-dasharray: 71px;
				stroke-dashoffset: 71px;
				stroke-linecap: round;
				stroke-linejoin: round;
				stroke-width: 2;
				stroke: @checkboxfill;
				transition: all 0.6s ease;
      }
      
			polyline {
				fill: none;
				stroke-dasharray: 18px;
				stroke-dashoffset: 18px;
				stroke-linecap: round;
				stroke-linejoin: round;
				stroke-width: 2;
				stroke: #ffffff;
				transition: all 0.3s ease;
			}
		}
	}
}

.tree-label>span {
	pointer-events: none;
	vertical-align: middle;
}

.invisible {
	height: 0;
	opacity: 0;
	position: absolute;
	width: 0;
	z-index: -1;
}

.loadUIOverrides();
